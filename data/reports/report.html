<!-- templates/report_template.html -->
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>InsightForge AI Analysis Report</title>
    <style>
        body {
            font-family: 'Helvetica', Arial, sans-serif;
            margin: 0;
            padding: 0;
            line-height: 1.6;
            color: #333;
            background-color: #f5f6f5;
        }
        .cover-page {
            height: 100vh;
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            text-align: center;
            padding-top: 25vh;
            page-break-after: always;
            position: relative;
        }
        .cover-page h1 {
            font-size: 50px;
            margin: 0;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        .cover-page p {
            font-size: 18px;
            margin: 10px 0;
            opacity: 0.9;
        }
        .cover-page .logo {
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 24px;
            font-weight: bold;
        }
        .container {
            display: flex;
            margin: 0 0.5in;
        }
        .sidebar {
            width: 200px;
            background-color: #2c3e50;
            color: white;
            padding: 20px;
            min-height: 100vh;
            font-size: 14px;
        }
        .sidebar h3 {
            color: #3498db;
            margin-top: 0;
        }
        .sidebar ul {
            list-style: none;
            padding: 0;
        }
        .sidebar ul li {
            margin: 15px 0;
        }
        .content {
            flex: 1;
            padding: 20px 40px;
            background-color: white;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            border-bottom: 4px solid #3498db;
            padding-bottom: 10px;
            font-size: 28px;
        }
        h2 {
            color: #34495e;
            background: #ecf0f1;
            padding: 8px 15px;
            border-radius: 5px;
            font-size: 20px;
        }
        .table-striped {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            font-size: 12px;
        }
        .table-striped th, .table-striped td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #ddd;
            vertical-align: top;
            word-wrap: break-word;
        }
        .table-striped th {
            background-color: #3498db;
            color: white;
            font-weight: bold;
            white-space: normal;
        }
        .table-striped td {
            max-width: 150px; /* Prevent excessive width */
            overflow-wrap: break-word;
        }
        .table-striped tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        pre {
            background-color: #f4f4f4;
            padding: 15px;
            border-radius: 5px;
            font-size: 12px;
            white-space: pre-wrap;
            word-wrap: break-word;
            border-left: 4px solid #3498db;
            page-break-inside: avoid;
        }
        img {
            max-width: 100%;
            height: auto;
            margin: 20px 0;
            display: block;
            border: 1px solid #ddd;
            border-radius: 5px;
            page-break-inside: avoid;
        }
        .note {
            font-style: italic;
            color: #666;
            margin: 10px 0;
            font-size: 12px;
        }
        .insight-box {
            background-color: #fefefe;
            padding: 20px;
            border-radius: 5px;
            border-left: 6px solid #e74c3c;
            margin: 20px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .section {
            margin-bottom: 40px;
            page-break-inside: avoid;
        }
        @page {
            size: A4;
            margin: 0.5in;
            @top-center {
                content: "InsightForge AI | Page " counter(page) " of " counter(pages);
                font-size: 10pt;
                color: #777;
            }
            @bottom-center {
                content: "Confidential - " string(today_date);
                font-size: 10pt;
                color: #777;
            }
        }
    </style>
</head>
<body>
    <!-- Cover Page -->
    <div class="cover-page">
        <div class="logo">InsightForge AI</div>
        <h1>InsightForge AI Analysis Report</h1>
        <p>Generated by InsightForge AI</p>
        <p>April 02, 2025</p>
    </div>

    <!-- Main Content with Sidebar -->
    <div class="container">
        <div class="sidebar">
            <h3>Contents</h3>
            <ul>
                <li>Data Preview</li>
                <li>Exploratory Data Analysis</li>
                <li>AI-Generated Insight</li>
                <li>Visualizations</li>
            </ul>
        </div>
        <div class="content">
            <div class="section">
                <h1>Data Preview</h1>
                <table class="dataframe table table-striped">
  <thead>
    <tr style="text-align: right;">
      <th>row_count</th>
      <th>temperature</th>
      <th>toCoupon_GEQ15min</th>
      <th>Y</th>
      <th>has_children</th>
      <th>direction_opp</th>
      <th>destination</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>55</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>No Urgent Place</td>
    </tr>
    <tr>
      <td>2</td>
      <td>80</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>No Urgent Place</td>
    </tr>
    <tr>
      <td>3</td>
      <td>80</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>No Urgent Place</td>
    </tr>
    <tr>
      <td>4</td>
      <td>80</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>No Urgent Place</td>
    </tr>
    <tr>
      <td>5</td>
      <td>80</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>No Urgent Place</td>
    </tr>
  </tbody>
</table>
                
                    <p class="note">Showing 7 of 27 columns; full data available in source file.</p>
                
            </div>

            <div class="section">
                <h1>Exploratory Data Analysis</h1>
                <div style="display: flex; gap: 20px;">
                    <div style="flex: 1;">
                        <h2>Statistics</h2>
                        <pre>        temperature  has_children  toCoupon_GEQ5min  toCoupon_GEQ15min  toCoupon_GEQ25min  direction_same  direction_opp             Y     row_count
count  12684.000000  12684.000000           12684.0       12684.000000       12684.000000    12684.000000   12684.000000  12684.000000  12684.000000
mean      63.301798      0.414144               1.0           0.561495           0.119126        0.214759       0.785241      0.568433   6342.500000
std       19.154486      0.492593               0.0           0.496224           0.323950        0.410671       0.410671      0.495314   3661.699742
min       30.000000      0.000000               1.0           0.000000           0.000000        0.000000       0.000000      0.000000      1.000000
25%       55.000000      0.000000               1.0           0.000000           0.000000        0.000000       1.000000      0.000000   3171.750000
50%       80.000000      0.000000               1.0           1.000000           0.000000        0.000000       1.000000      1.000000   6342.500000
75%       80.000000      1.000000               1.0           1.000000           0.000000        0.000000       1.000000      1.000000   9513.250000
max       80.000000      1.000000               1.0           1.000000           1.000000        1.000000       1.000000      1.000000  12684.000000</pre>
                    </div>
                    <div style="flex: 1;">
                        <h2>Missing Values</h2>
                        <pre>destination: 0
passanger: 0
weather: 0
temperature: 0
time: 0
coupon: 0
expiration: 0
gender: 0
age: 0
maritalStatus: 0
has_children: 0
education: 0
occupation: 0
income: 0
car: 12576
Bar: 107
CoffeeHouse: 217
CarryAway: 151
RestaurantLessThan20: 130
Restaurant20To50: 189
toCoupon_GEQ5min: 0
toCoupon_GEQ15min: 0
toCoupon_GEQ25min: 0
direction_same: 0
direction_opp: 0
Y: 0
row_count: 0</pre>
                    </div>
                </div>
                <h2>Correlations</h2>
                <pre>                   temperature  has_children  toCoupon_GEQ5min  toCoupon_GEQ15min  toCoupon_GEQ25min  direction_same  direction_opp         Y  row_count
temperature           1.000000     -0.019716               NaN          -0.155332          -0.216254        0.097085      -0.097085  0.061240  -0.369747
has_children         -0.019716      1.000000               NaN           0.078211          -0.013722       -0.031620       0.031620 -0.045557  -0.008885
toCoupon_GEQ5min           NaN           NaN               NaN                NaN                NaN             NaN            NaN       NaN        NaN
toCoupon_GEQ15min    -0.155332      0.078211               NaN           1.000000           0.324984       -0.303533       0.303533 -0.081602  -0.026145
toCoupon_GEQ25min    -0.216254     -0.013722               NaN           0.324984           1.000000       -0.192319       0.192319 -0.103633   0.035741
direction_same        0.097085     -0.031620               NaN          -0.303533          -0.192319        1.000000      -1.000000  0.014570   0.152766
direction_opp        -0.097085      0.031620               NaN           0.303533           0.192319       -1.000000       1.000000 -0.014570  -0.152766
Y                     0.061240     -0.045557               NaN          -0.081602          -0.103633        0.014570      -0.014570  1.000000  -0.037876
row_count            -0.369747     -0.008885               NaN          -0.026145           0.035741        0.152766      -0.152766 -0.037876   1.000000</pre>
            </div>

            <div class="section">
                <h1>AI-Generated Insight</h1>
                <div class="insight-box">
                    <p>The provided exploratory data analysis summary offers insights into the distribution of variables and their correlations within a dataset. Key observations include:

1. **Temperature Distribution**: The average temperature is around 63.30, with a standard deviation of 19.15, indicating variability in temperature data.
2. **Coupon and Directional Relationships**: Coupons that are valid for 5 minutes or more (`toCoupon_GEQ5min`) show no correlation with other variables due to missing values, but `toCoupon_GEQ15min` and `toCoupon_GEQ25min` have notable correlations with `direction_same` and `direction_opp`, suggesting a relationship between coupon validity and travel direction.
3. **Demographic and Behavioral Insights**: The `has_children` variable has a low correlation with most variables, except a slight positive correlation with `toCoupon_GEQ15min`, indicating that having children might have a minor influence on coupon usage.
4. **Target Variable (Y)**: The target variable `Y` has a weak positive correlation with `temperature` and a very weak correlation with other variables, suggesting that temperature might have a slight influence on the target outcome, but other factors have minimal direct impact.
5. **Row Count**: The `row_count` variable has a strong negative correlation with `temperature`, indicating that higher temperatures might be associated with fewer data points or observations.

Overall, the analysis suggests that temperature, coupon validity, and travel direction have some level of interrelation, while demographic factors like having children have minimal influence on the target variable. The absence of correlations for `toCoupon_GEQ5min` is notable and may warrant further investigation due to missing values.</p>
                </div>
            </div>

            <div class="section">
                <h1>Visualizations</h1>
                
                    
                        <h2>Temperature Vs Has Children Scatter</h2>
                        <img src="temperature_vs_has_children_scatter.png" alt="temperature_vs_has_children_scatter">
                    
                
                    
                        <h2>Tocoupon Geq15Min Distribution</h2>
                        <img src="toCoupon_GEQ15min_distribution.png" alt="toCoupon_GEQ15min_distribution">
                    
                
            </div>
        </div>
    </div>
</body>
</html>